# Швидка довідка (польові перевірки)

Це односторінкова довідка для швидких перевірок, DR‑станів та типових дій.

## 1) Підсумок UART

- GNSS і STM32: `A2/A3` (UBX @ 460800)
- FC MAVLink і STM32: `A9/A10` (MAVLink2 @ 115200)
- FC GPS і STM32: `A11/A12` (UBX @ 460800)

## 2) Режими DR

- **DR0**: нормальний режим. GNSS передається на GPS UART FC.
- **DR1**: захисний режим. Передавання GNSS на GPS UART FC заблоковано.
- **B5**: імпульс високого рівня ~3 с на кожен перехід DR0 → DR1.

## 3) Швидка діагностика

Якщо FC показує **"No GPS config data"**:

- перевірте протокол/швидкість GPS UART на FC;
- перевірте проводку `A11/A12` (TX/RX перехрещені);
- перевірте спільну землю.

Якщо на карті GCS видно **стрибки GNSS**:

- це може бути спуфінг, який показує GCS, а не позиція EKF;
- орієнтуйтесь на DR‑стан і логи фільтра.

Якщо **DR1 залишається активним**:

- перевірте пороги активації (`ARM_*`) і якість GNSS;
- перевірте налаштування SNR (`SNR_*`), якщо увімкнено.

## 4) Команди `tune_cli`

Список параметрів:

```bash
python tools/tune_cli.py --port COM12 --baud 115200 list
```

Читання одного параметра:

```bash
python tools/tune_cli.py --port COM12 --baud 115200 get BLEND_MS
```

Запис одного параметра:

```bash
python tools/tune_cli.py --port COM12 --baud 115200 set RJ_BASE_M 180
```

Експорт профілю:

```bash
python tools/tune_cli.py --port COM12 --baud 115200 export tune_baseline.json
```

Імпорт профілю:

```bash
python tools/tune_cli.py --port COM12 --baud 115200 import tune_baseline.json
```

## 5) Типові приклади тригерів DR1

- Стрибок позиції: великий крок > `SP_ABS_M` або швидкість > `SP_JMP_MPS`.
- Розкид SNR: якщо `SNR_EN=1` і розкид занадто вузький довше `SNR_HOLDMS`.
- Висота: великий стрибок (`ALT_JMP_M`) або надмірна швидкість (`ALT_RMPS`).
